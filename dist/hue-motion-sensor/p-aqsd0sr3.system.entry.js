var __extends=this&&this.__extends||function(){var t=function(e,r){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r]};return t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();System.register(["./p-bbbd3e0a.system.js"],(function(t){"use strict";var e;return{setters:[function(t){e=t.r}],execute:function(){function r(t){return typeof t==="function"}var n=false;var i={Promise:undefined,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else if(n){console.log("RxJS: Back to a better error behavior. Thank you. <3")}n=t},get useDeprecatedSynchronousErrorHandling(){return n}};function o(t){setTimeout((function(){throw t}),0)}var s={closed:true,next:function(t){},error:function(t){if(i.useDeprecatedSynchronousErrorHandling){throw t}else{o(t)}},complete:function(){}};var u=function(){return Array.isArray||function(t){return t&&typeof t.length==="number"}}();function c(t){return t!==null&&typeof t==="object"}var f=function(){function t(t){Error.call(this);this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"";this.name="UnsubscriptionError";this.errors=t;return this}t.prototype=Object.create(Error.prototype);return t}();var a=f;var h=function(){function t(t){this.closed=false;this._parentOrParents=null;this._subscriptions=null;if(t){this._unsubscribe=t}}t.prototype.unsubscribe=function(){var e;if(this.closed){return}var n=this,i=n._parentOrParents,o=n._unsubscribe,s=n._subscriptions;this.closed=true;this._parentOrParents=null;this._subscriptions=null;if(i instanceof t){i.remove(this)}else if(i!==null){for(var f=0;f<i.length;++f){var h=i[f];h.remove(this)}}if(r(o)){try{o.call(this)}catch(b){e=b instanceof a?l(b.errors):[b]}}if(u(s)){var f=-1;var p=s.length;while(++f<p){var d=s[f];if(c(d)){try{d.unsubscribe()}catch(b){e=e||[];if(b instanceof a){e=e.concat(l(b.errors))}else{e.push(b)}}}}}if(e){throw new a(e)}};t.prototype.add=function(e){var r=e;if(!e){return t.EMPTY}switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!=="function"){return r}else if(this.closed){r.unsubscribe();return r}else if(!(r instanceof t)){var n=r;r=new t;r._subscriptions=[n]}break;default:{throw new Error("unrecognized teardown "+e+" added to Subscription.")}}var i=r._parentOrParents;if(i===null){r._parentOrParents=this}else if(i instanceof t){if(i===this){return r}r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1){i.push(this)}else{return r}var o=this._subscriptions;if(o===null){this._subscriptions=[r]}else{o.push(r)}return r};t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);if(r!==-1){e.splice(r,1)}}};return t}();h.EMPTY=function(t){t.closed=true;return t}(new h);function l(t){return t.reduce((function(t,e){return t.concat(e instanceof a?e.errors:e)}),[])}var p=function(){return typeof Symbol==="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();var d=function(t){__extends(e,t);function e(r,n,i){var o=t.call(this)||this;o.syncErrorValue=null;o.syncErrorThrown=false;o.syncErrorThrowable=false;o.isStopped=false;switch(arguments.length){case 0:o.destination=s;break;case 1:if(!r){o.destination=s;break}if(typeof r==="object"){if(r instanceof e){o.syncErrorThrowable=r.syncErrorThrowable;o.destination=r;r.add(o)}else{o.syncErrorThrowable=true;o.destination=new b(o,r)}break}default:o.syncErrorThrowable=true;o.destination=new b(o,r,n,i);break}return o}e.prototype[p]=function(){return this};e.create=function(t,r,n){var i=new e(t,r,n);i.syncErrorThrowable=false;return i};e.prototype.next=function(t){if(!this.isStopped){this._next(t)}};e.prototype.error=function(t){if(!this.isStopped){this.isStopped=true;this._error(t)}};e.prototype.complete=function(){if(!this.isStopped){this.isStopped=true;this._complete()}};e.prototype.unsubscribe=function(){if(this.closed){return}this.isStopped=true;t.prototype.unsubscribe.call(this)};e.prototype._next=function(t){this.destination.next(t)};e.prototype._error=function(t){this.destination.error(t);this.unsubscribe()};e.prototype._complete=function(){this.destination.complete();this.unsubscribe()};e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;this._parentOrParents=null;this.unsubscribe();this.closed=false;this.isStopped=false;this._parentOrParents=t;return this};return e}(h);var b=function(t){__extends(e,t);function e(e,n,i,o){var u=t.call(this)||this;u._parentSubscriber=e;var c;var f=u;if(r(n)){c=n}else if(n){c=n.next;i=n.error;o=n.complete;if(n!==s){f=Object.create(n);if(r(f.unsubscribe)){u.add(f.unsubscribe.bind(f))}f.unsubscribe=u.unsubscribe.bind(u)}}u._context=f;u._next=c;u._error=i;u._complete=o;return u}e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;if(!i.useDeprecatedSynchronousErrorHandling||!e.syncErrorThrowable){this.__tryOrUnsub(this._next,t)}else if(this.__tryOrSetError(e,this._next,t)){this.unsubscribe()}}};e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;var r=i.useDeprecatedSynchronousErrorHandling;if(this._error){if(!r||!e.syncErrorThrowable){this.__tryOrUnsub(this._error,t);this.unsubscribe()}else{this.__tryOrSetError(e,this._error,t);this.unsubscribe()}}else if(!e.syncErrorThrowable){this.unsubscribe();if(r){throw t}o(t)}else{if(r){e.syncErrorValue=t;e.syncErrorThrown=true}else{o(t)}this.unsubscribe()}}};e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};if(!i.useDeprecatedSynchronousErrorHandling||!e.syncErrorThrowable){this.__tryOrUnsub(r);this.unsubscribe()}else{this.__tryOrSetError(e,r);this.unsubscribe()}}else{this.unsubscribe()}}};e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(r){this.unsubscribe();if(i.useDeprecatedSynchronousErrorHandling){throw r}else{o(r)}}};e.prototype.__tryOrSetError=function(t,e,r){if(!i.useDeprecatedSynchronousErrorHandling){throw new Error("bad call")}try{e.call(this._context,r)}catch(n){if(i.useDeprecatedSynchronousErrorHandling){t.syncErrorValue=n;t.syncErrorThrown=true;return true}else{o(n);return true}}return false};e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null;this._parentSubscriber=null;t.unsubscribe()};return e}(d);function v(t){while(t){var e=t.closed,r=t.destination,n=t.isStopped;if(e||n){return false}else if(r&&r instanceof d){t=r}else{t=null}}return true}function y(t,e,r){if(t){if(t instanceof d){return t}if(t[p]){return t[p]()}}if(!t&&!e&&!r){return new d(s)}return new d(t,e,r)}var _=function(){return typeof Symbol==="function"&&Symbol.observable||"@@observable"}();function w(){}function x(t){if(!t){return w}if(t.length===1){return t[0]}return function e(r){return t.reduce((function(t,e){return e(t)}),r)}}var m=function(){function t(t){this._isScalar=false;if(t){this._subscribe=t}}t.prototype.lift=function(e){var r=new t;r.source=this;r.operator=e;return r};t.prototype.subscribe=function(t,e,r){var n=this.operator;var o=y(t,e,r);if(n){o.add(n.call(o,this.source))}else{o.add(this.source||i.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o))}if(i.useDeprecatedSynchronousErrorHandling){if(o.syncErrorThrowable){o.syncErrorThrowable=false;if(o.syncErrorThrown){throw o.syncErrorValue}}}return o};t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){if(i.useDeprecatedSynchronousErrorHandling){t.syncErrorThrown=true;t.syncErrorValue=e}if(v(t)){t.error(e)}else{console.warn(e)}}};t.prototype.forEach=function(t,e){var r=this;e=S(e);return new e((function(e,n){var i;i=r.subscribe((function(e){try{t(e)}catch(r){n(r);if(i){i.unsubscribe()}}}),n,e)}))};t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)};t.prototype[_]=function(){return this};t.prototype.pipe=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}if(t.length===0){return this}return x(t)(this)};t.prototype.toPromise=function(t){var e=this;t=S(t);return new t((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))};return t}();m.create=function(t){return new m(t)};function S(t){if(!t){t=Promise}if(!t){throw new Error("no Promise impl found")}return t}var E=function(){function t(){Error.call(this);this.message="object unsubscribed";this.name="ObjectUnsubscribedError";return this}t.prototype=Object.create(Error.prototype);return t}();var g=E;var j=function(t){__extends(e,t);function e(e,r){var n=t.call(this)||this;n.subject=e;n.subscriber=r;n.closed=false;return n}e.prototype.unsubscribe=function(){if(this.closed){return}this.closed=true;var t=this.subject;var e=t.observers;this.subject=null;if(!e||e.length===0||t.isStopped||t.closed){return}var r=e.indexOf(this.subscriber);if(r!==-1){e.splice(r,1)}};return e}(h);var O=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;r.destination=e;return r}return e}(d);var T=function(t){__extends(e,t);function e(){var e=t.call(this)||this;e.observers=[];e.closed=false;e.isStopped=false;e.hasError=false;e.thrownError=null;return e}e.prototype[p]=function(){return new O(this)};e.prototype.lift=function(t){var e=new P(this,this);e.operator=t;return e};e.prototype.next=function(t){if(this.closed){throw new g}if(!this.isStopped){var e=this.observers;var r=e.length;var n=e.slice();for(var i=0;i<r;i++){n[i].next(t)}}};e.prototype.error=function(t){if(this.closed){throw new g}this.hasError=true;this.thrownError=t;this.isStopped=true;var e=this.observers;var r=e.length;var n=e.slice();for(var i=0;i<r;i++){n[i].error(t)}this.observers.length=0};e.prototype.complete=function(){if(this.closed){throw new g}this.isStopped=true;var t=this.observers;var e=t.length;var r=t.slice();for(var n=0;n<e;n++){r[n].complete()}this.observers.length=0};e.prototype.unsubscribe=function(){this.isStopped=true;this.closed=true;this.observers=null};e.prototype._trySubscribe=function(e){if(this.closed){throw new g}else{return t.prototype._trySubscribe.call(this,e)}};e.prototype._subscribe=function(t){if(this.closed){throw new g}else if(this.hasError){t.error(this.thrownError);return h.EMPTY}else if(this.isStopped){t.complete();return h.EMPTY}else{this.observers.push(t);return new j(this,t)}};e.prototype.asObservable=function(){var t=new m;t.source=this;return t};return e}(m);T.create=function(t,e){return new P(t,e)};var P=function(t){__extends(e,t);function e(e,r){var n=t.call(this)||this;n.destination=e;n.source=r;return n}e.prototype.next=function(t){var e=this.destination;if(e&&e.next){e.next(t)}};e.prototype.error=function(t){var e=this.destination;if(e&&e.error){this.destination.error(t)}};e.prototype.complete=function(){var t=this.destination;if(t&&t.complete){this.destination.complete()}};e.prototype._subscribe=function(t){var e=this.source;if(e){return this.source.subscribe(t)}else{return h.EMPTY}};return e}(T);function C(){return function t(e){return e.lift(new I(e))}}var I=function(){function t(t){this.connectable=t}t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new A(t,r);var i=e.subscribe(n);if(!n.closed){n.connection=r.connect()}return i};return t}();var A=function(t){__extends(e,t);function e(e,r){var n=t.call(this,e)||this;n.connectable=r;return n}e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var e=t._refCount;if(e<=0){this.connection=null;return}t._refCount=e-1;if(e>1){this.connection=null;return}var r=this.connection;var n=t._connection;this.connection=null;if(n&&(!r||n===r)){n.unsubscribe()}};return e}(d);var D=function(t){__extends(e,t);function e(e,r){var n=t.call(this)||this;n.source=e;n.subjectFactory=r;n._refCount=0;n._isComplete=false;return n}e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)};e.prototype.getSubject=function(){var t=this._subject;if(!t||t.isStopped){this._subject=this.subjectFactory()}return this._subject};e.prototype.connect=function(){var t=this._connection;if(!t){this._isComplete=false;t=this._connection=new h;t.add(this.source.subscribe(new k(this.getSubject(),this)));if(t.closed){this._connection=null;t=h.EMPTY}}return t};e.prototype.refCount=function(){return C()(this)};return e}(m);var N=function(){var t=D.prototype;return{operator:{value:null},_refCount:{value:0,writable:true},_subject:{value:null,writable:true},_connection:{value:null,writable:true},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:true},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}();var k=function(t){__extends(e,t);function e(e,r){var n=t.call(this,e)||this;n.connectable=r;return n}e.prototype._error=function(e){this._unsubscribe();t.prototype._error.call(this,e)};e.prototype._complete=function(){this.connectable._isComplete=true;this._unsubscribe();t.prototype._complete.call(this)};e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0;t._subject=null;t._connection=null;if(e){e.unsubscribe()}}};return e}(O);var H=function(t){__extends(e,t);function e(e,r){return t.call(this)||this}e.prototype.schedule=function(t,e){if(e===void 0){e=0}return this};return e}(h);var V=function(t){__extends(e,t);function e(e,r){var n=t.call(this,e,r)||this;n.scheduler=e;n.work=r;n.pending=false;return n}e.prototype.schedule=function(t,e){if(e===void 0){e=0}if(this.closed){return this}this.state=t;var r=this.id;var n=this.scheduler;if(r!=null){this.id=this.recycleAsyncId(n,r,e)}this.pending=true;this.delay=e;this.id=this.id||this.requestAsyncId(n,this.id,e);return this};e.prototype.requestAsyncId=function(t,e,r){if(r===void 0){r=0}return setInterval(t.flush.bind(t,this),r)};e.prototype.recycleAsyncId=function(t,e,r){if(r===void 0){r=0}if(r!==null&&this.delay===r&&this.pending===false){return e}clearInterval(e);return undefined};e.prototype.execute=function(t,e){if(this.closed){return new Error("executing a cancelled action")}this.pending=false;var r=this._execute(t,e);if(r){return r}else if(this.pending===false&&this.id!=null){this.id=this.recycleAsyncId(this.scheduler,this.id,null)}};e.prototype._execute=function(t,e){var r=false;var n=undefined;try{this.work(t)}catch(i){r=true;n=!!i&&i||new Error(i)}if(r){this.unsubscribe();return n}};e.prototype._unsubscribe=function(){var t=this.id;var e=this.scheduler;var r=e.actions;var n=r.indexOf(this);this.work=null;this.state=null;this.pending=false;this.scheduler=null;if(n!==-1){r.splice(n,1)}if(t!=null){this.id=this.recycleAsyncId(e,t,null)}this.delay=null};return e}(H);var Y=function(){function t(e,r){if(r===void 0){r=t.now}this.SchedulerAction=e;this.now=r}t.prototype.schedule=function(t,e,r){if(e===void 0){e=0}return new this.SchedulerAction(this,t).schedule(r,e)};return t}();Y.now=function(){return Date.now()};var F=function(t){__extends(e,t);function e(r,n){if(n===void 0){n=Y.now}var i=t.call(this,r,(function(){if(e.delegate&&e.delegate!==i){return e.delegate.now()}else{return n()}}))||this;i.actions=[];i.active=false;i.scheduled=undefined;return i}e.prototype.schedule=function(r,n,i){if(n===void 0){n=0}if(e.delegate&&e.delegate!==this){return e.delegate.schedule(r,n,i)}else{return t.prototype.schedule.call(this,r,n,i)}};e.prototype.flush=function(t){var e=this.actions;if(this.active){e.push(t);return}var r;this.active=true;do{if(r=t.execute(t.state,t.delay)){break}}while(t=e.shift());this.active=false;if(r){while(t=e.shift()){t.unsubscribe()}throw r}};return e}(Y);function M(t){return t&&typeof t.schedule==="function"}var U=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++){e.next(t[r])}e.complete()}};function R(t,e){return new m((function(r){var n=new h;var i=0;n.add(e.schedule((function(){if(i===t.length){r.complete();return}r.next(t[i++]);if(!r.closed){n.add(this.schedule())}})));return n}))}function $(t,e){if(!e){return new m(U(t))}else{return R(t,e)}}function L(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}var r=t[t.length-1];if(M(r)){t.pop();return R(t,r)}else{return $(t)}}var q=new F(V);function J(t,e){return function r(n){if(typeof t!=="function"){throw new TypeError("argument is not a function. Are you looking for `mapTo()`?")}return n.lift(new z(t,e))}}var z=function(){function t(t,e){this.project=t;this.thisArg=e}t.prototype.call=function(t,e){return e.subscribe(new B(t,this.project,this.thisArg))};return t}();var B=function(t){__extends(e,t);function e(e,r,n){var i=t.call(this,e)||this;i.project=r;i.count=0;i.thisArg=n||i;return i}e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(r){this.destination.error(r);return}this.destination.next(e)};return e}(d);var X=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)};e.prototype.notifyError=function(t,e){this.destination.error(t)};e.prototype.notifyComplete=function(t){this.destination.complete()};return e}(d);var G=function(t){__extends(e,t);function e(e,r,n){var i=t.call(this)||this;i.parent=e;i.outerValue=r;i.outerIndex=n;i.index=0;return i}e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)};e.prototype._error=function(t){this.parent.notifyError(t,this);this.unsubscribe()};e.prototype._complete=function(){this.parent.notifyComplete(this);this.unsubscribe()};return e}(d);var K=function(t){return function(e){t.then((function(t){if(!e.closed){e.next(t);e.complete()}}),(function(t){return e.error(t)})).then(null,o);return e}};function Q(){if(typeof Symbol!=="function"||!Symbol.iterator){return"@@iterator"}return Symbol.iterator}var W=Q();var Z=function(t){return function(e){var r=t[W]();do{var n=r.next();if(n.done){e.complete();break}e.next(n.value);if(e.closed){break}}while(true);if(typeof r.return==="function"){e.add((function(){if(r.return){r.return()}}))}return e}};var tt=function(t){return function(e){var r=t[_]();if(typeof r.subscribe!=="function"){throw new TypeError("Provided object does not correctly implement Symbol.observable")}else{return r.subscribe(e)}}};var et=function(t){return t&&typeof t.length==="number"&&typeof t!=="function"};function rt(t){return!!t&&typeof t.subscribe!=="function"&&typeof t.then==="function"}var nt=function(t){if(!!t&&typeof t[_]==="function"){return tt(t)}else if(et(t)){return U(t)}else if(rt(t)){return K(t)}else if(!!t&&typeof t[W]==="function"){return Z(t)}else{var e=c(t)?"an invalid object":"'"+t+"'";var r="You provided "+e+" where a stream was expected."+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)}};function it(t,e,r,n,i){if(i===void 0){i=new G(t,r,n)}if(i.closed){return undefined}if(e instanceof m){return e.subscribe(i)}return nt(e)(i)}function ot(t,e){return new m((function(r){var n=new h;n.add(e.schedule((function(){var i=t[_]();n.add(i.subscribe({next:function(t){n.add(e.schedule((function(){return r.next(t)})))},error:function(t){n.add(e.schedule((function(){return r.error(t)})))},complete:function(){n.add(e.schedule((function(){return r.complete()})))}}))})));return n}))}function st(t,e){return new m((function(r){var n=new h;n.add(e.schedule((function(){return t.then((function(t){n.add(e.schedule((function(){r.next(t);n.add(e.schedule((function(){return r.complete()})))})))}),(function(t){n.add(e.schedule((function(){return r.error(t)})))}))})));return n}))}function ut(t,e){if(!t){throw new Error("Iterable cannot be null")}return new m((function(r){var n=new h;var i;n.add((function(){if(i&&typeof i.return==="function"){i.return()}}));n.add(e.schedule((function(){i=t[W]();n.add(e.schedule((function(){if(r.closed){return}var t;var e;try{var n=i.next();t=n.value;e=n.done}catch(o){r.error(o);return}if(e){r.complete()}else{r.next(t);this.schedule()}})))})));return n}))}function ct(t){return t&&typeof t[_]==="function"}function ft(t){return t&&typeof t[W]==="function"}function at(t,e){if(t!=null){if(ct(t)){return ot(t,e)}else if(rt(t)){return st(t,e)}else if(et(t)){return R(t,e)}else if(ft(t)||typeof t==="string"){return ut(t,e)}}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function ht(t,e){if(!e){if(t instanceof m){return t}return new m(nt(t))}else{return at(t,e)}}function lt(t,e,r){if(r===void 0){r=Number.POSITIVE_INFINITY}if(typeof e==="function"){return function(n){return n.pipe(lt((function(r,n){return ht(t(r,n)).pipe(J((function(t,i){return e(r,t,n,i)})))}),r))}}else if(typeof e==="number"){r=e}return function(e){return e.lift(new pt(t,r))}}var pt=function(){function t(t,e){if(e===void 0){e=Number.POSITIVE_INFINITY}this.project=t;this.concurrent=e}t.prototype.call=function(t,e){return e.subscribe(new dt(t,this.project,this.concurrent))};return t}();var dt=function(t){__extends(e,t);function e(e,r,n){if(n===void 0){n=Number.POSITIVE_INFINITY}var i=t.call(this,e)||this;i.project=r;i.concurrent=n;i.hasCompleted=false;i.buffer=[];i.active=0;i.index=0;return i}e.prototype._next=function(t){if(this.active<this.concurrent){this._tryNext(t)}else{this.buffer.push(t)}};e.prototype._tryNext=function(t){var e;var r=this.index++;try{e=this.project(t,r)}catch(n){this.destination.error(n);return}this.active++;this._innerSub(e,t,r)};e.prototype._innerSub=function(t,e,r){var n=new G(this,e,r);var i=this.destination;i.add(n);var o=it(this,t,undefined,undefined,n);if(o!==n){i.add(o)}};e.prototype._complete=function(){this.hasCompleted=true;if(this.active===0&&this.buffer.length===0){this.destination.complete()}this.unsubscribe()};e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)};e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t);this.active--;if(e.length>0){this._next(e.shift())}else if(this.active===0&&this.hasCompleted){this.destination.complete()}};return e}(X);function bt(t){return!u(t)&&t-parseFloat(t)+1>=0}function vt(t,e){return function r(n){return n.lift(new yt(t,e))}}var yt=function(){function t(t,e){this.predicate=t;this.thisArg=e}t.prototype.call=function(t,e){return e.subscribe(new _t(t,this.predicate,this.thisArg))};return t}();var _t=function(t){__extends(e,t);function e(e,r,n){var i=t.call(this,e)||this;i.predicate=r;i.thisArg=n;i.count=0;return i}e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){this.destination.error(r);return}if(e){this.destination.next(t)}};return e}(d);function wt(t,e,r){if(t===void 0){t=0}var n=-1;if(bt(e)){n=Number(e)<1&&1||Number(e)}else if(M(e)){r=e}if(!M(r)){r=q}return new m((function(e){var i=bt(t)?t:+t-r.now();return r.schedule(xt,i,{index:0,period:n,subscriber:e})}))}function xt(t){var e=t.index,r=t.period,n=t.subscriber;n.next(e);if(n.closed){return}else if(r===-1){return n.complete()}t.index=e+1;this.schedule(t,r)}function mt(t){return function e(r){var n=new St(t);var i=r.lift(n);return n.caught=i}}var St=function(){function t(t){this.selector=t}t.prototype.call=function(t,e){return e.subscribe(new Et(t,this.selector,this.caught))};return t}();var Et=function(t){__extends(e,t);function e(e,r,n){var i=t.call(this,e)||this;i.selector=r;i.caught=n;return i}e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var n=new G(this,undefined,undefined);this.add(n);var i=it(this,r,undefined,undefined,n);if(i!==n){this.add(i)}}};return e}(X);function gt(t,e){return function r(n){var i;if(typeof t==="function"){i=t}else{i=function e(){return t}}if(typeof e==="function"){return n.lift(new jt(i,e))}var o=Object.create(n,N);o.source=n;o.subjectFactory=i;return o}}var jt=function(){function t(t,e){this.subjectFactory=t;this.selector=e}t.prototype.call=function(t,e){var r=this.selector;var n=this.subjectFactory();var i=r(n).subscribe(t);i.add(e.subscribe(n));return i};return t}();function Ot(){return function(t){return t.lift(new Tt)}}var Tt=function(){function t(){}t.prototype.call=function(t,e){return e.subscribe(new Pt(t))};return t}();var Pt=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;r.hasPrev=false;return r}e.prototype._next=function(t){var e;if(this.hasPrev){e=[this.prev,t]}else{this.hasPrev=true}this.prev=t;if(e){this.destination.next(e)}};return e}(d);function Ct(){return new T}function It(){return function(t){return C()(gt(Ct)(t))}}function At(t,e){if(typeof e==="function"){return function(r){return r.pipe(At((function(r,n){return ht(t(r,n)).pipe(J((function(t,i){return e(r,t,n,i)})))})))}}return function(e){return e.lift(new Dt(t))}}var Dt=function(){function t(t){this.project=t}t.prototype.call=function(t,e){return e.subscribe(new Nt(t,this.project))};return t}();var Nt=function(t){__extends(e,t);function e(e,r){var n=t.call(this,e)||this;n.project=r;n.index=0;return n}e.prototype._next=function(t){var e;var r=this.index++;try{e=this.project(t,r)}catch(n){this.destination.error(n);return}this._innerSub(e,t,r)};e.prototype._innerSub=function(t,e,r){var n=this.innerSubscription;if(n){n.unsubscribe()}var i=new G(this,e,r);var o=this.destination;o.add(i);this.innerSubscription=it(this,t,undefined,undefined,i);if(this.innerSubscription!==i){o.add(this.innerSubscription)}};e.prototype._complete=function(){var e=this.innerSubscription;if(!e||e.closed){t.prototype._complete.call(this)}this.unsubscribe()};e.prototype._unsubscribe=function(){this.innerSubscription=null};e.prototype.notifyComplete=function(e){var r=this.destination;r.remove(e);this.innerSubscription=null;if(this.isStopped){t.prototype._complete.call(this)}};e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)};return e}(X);function kt(t){return function(e){return e.lift(new Ht(t))}}var Ht=function(){function t(t){this.notifier=t}t.prototype.call=function(t,e){var r=new Vt(t);var n=it(r,this.notifier);if(n&&!r.seenValue){r.add(n);return e.subscribe(r)}return r};return t}();var Vt=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;r.seenValue=false;return r}e.prototype.notifyNext=function(t,e,r,n,i){this.seenValue=true;this.complete()};e.prototype.notifyComplete=function(){};return e}(X);function Yt(t,e,r){return function n(i){return i.lift(new Ft(t,e,r))}}var Ft=function(){function t(t,e,r){this.nextOrObserver=t;this.error=e;this.complete=r}t.prototype.call=function(t,e){return e.subscribe(new Mt(t,this.nextOrObserver,this.error,this.complete))};return t}();var Mt=function(t){__extends(e,t);function e(e,n,i,o){var s=t.call(this,e)||this;s._tapNext=w;s._tapError=w;s._tapComplete=w;s._tapError=i||w;s._tapComplete=o||w;if(r(n)){s._context=s;s._tapNext=n}else if(n){s._context=n;s._tapNext=n.next||w;s._tapError=n.error||w;s._tapComplete=n.complete||w}return s}e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){this.destination.error(e);return}this.destination.next(t)};e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){this.destination.error(t);return}this.destination.error(t)};e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){this.destination.error(t);return}return this.destination.complete()};return e}(d);var Ut=t("hue_motion_sensor",function(){function t(t){e(this,t);this.timeout=6e4;this.onDestroy$=new T;this.isPresent=false}t.prototype.componentDidLoad=function(){var t=this;this.presence=wt(0,2e3).pipe(At((function(){return fetch("http://"+t.ip+"/api/"+t.username+"/sensors/"+t.sensor)})),At((function(t){return t.json()})),It(),J((function(t){return t.state.presence})),Yt((function(e){return t.isPresent=e})),mt((function(){return L(false)})));this.presence.pipe(kt(this.onDestroy$)).subscribe();this.lastMovement=this.presence.pipe(vt((function(t){return t})),J((function(){return Date.now()})));var e=this.presence.pipe(Ot(),vt((function(t){var e=t[0],r=t[1];return e!==r})));e.pipe(vt((function(t){var e=t[0],r=t[1];return e&&!r})),Yt((function(){return console.log("switch off")})),lt((function(){return ht(fetch("http://"+t.raspberry+":8080/api/monitor/off",{mode:"no-cors"}))})),kt(this.onDestroy$)).subscribe();e.pipe(vt((function(t){var e=t[0],r=t[1];return r&&!e})),Yt((function(){return console.log("switch on")})),lt((function(){return ht(fetch("http://"+t.raspberry+":8080/api/monitor/on",{mode:"no-cors"}))})),kt(this.onDestroy$)).subscribe()};t.prototype.componentDidUnload=function(){this.onDestroy$.next()};Object.defineProperty(t,"style",{get:function(){return"hue-motion-sensor{display:block;background-color:#000;color:#fff}"},enumerable:true,configurable:true});return t}())}}}));